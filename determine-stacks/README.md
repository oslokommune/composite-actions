<!-- BOILERPLATE BEGIN -->
<!-- Generated by running `make docs` from the project root -->

# Determine Terraform stacks

Determine which Terraform stacks to run operations on

## Usage

### Inputs

|        Input         |                                                                                   Description                                                                                    |Required| Default |
|----------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|--------|---------|
|`selected-stacks`     |Comma/newline-delimited list of stack patterns. Supports glob wildcards (*, **) and brace expansion ({a,b}). By default, only stacks with changed files are included.             |no      |````     |
|`ignored-stacks`      |Comma/newline-delimited list of stack patterns to ignore. Supports glob wildcards (*, **) and brace expansion ({a,b}).                                                            |no      |````     |
|`core-stacks`         |Comma/newline-delimited list of stack patterns for core stacks. Supports glob wildcards (*, **) and brace expansion ({a,b}). If 'override-core-stacks' is true, replaces defaults.|no      |````     |
|`override-core-stacks`|If true, replace the default core stack patterns with those provided in 'core-stacks' input. By default, 'core-stacks' is appended to a predefined list of patterns.              |no      |``false``|

### Example

```yaml
- name: Determine Terraform stacks
  uses: oslokommune/composite-actions/determine-stacks@main
  with:
    # selected-stacks: # Optional, default: 
    # ignored-stacks: # Optional, default: 
    # core-stacks: # Optional, default: 
    # override-core-stacks: # Optional, default: false
```

## Outputs

|       Name       |                          Description                          |                     Value                      |
|------------------|---------------------------------------------------------------|------------------------------------------------|
|`dev-core-stacks` |JSON array of dev core stacks (deployed sequentially in order) |``${{ steps.stacks.outputs.dev-core-stacks }}`` |
|`dev-apps-stacks` |JSON array of dev dependent stacks (deployed in parallel)      |``${{ steps.stacks.outputs.dev-apps-stacks }}`` |
|`prod-core-stacks`|JSON array of prod core stacks (deployed sequentially in order)|``${{ steps.stacks.outputs.prod-core-stacks }}``|
|`prod-apps-stacks`|JSON array of prod dependent stacks (deployed in parallel)     |``${{ steps.stacks.outputs.prod-apps-stacks }}``|
|`all-dev-stacks`  |JSON array of all dev stacks                                   |``${{ steps.stacks.outputs.all-dev-stacks }}``  |
|`all-prod-stacks` |JSON array of all prod stacks                                  |``${{ steps.stacks.outputs.all-prod-stacks }}`` |
|`all-stacks`      |JSON array of all stacks (dev and prod combined)               |``${{ steps.stacks.outputs.all-stacks }}``      |



<!-- BOILERPLATE END -->
